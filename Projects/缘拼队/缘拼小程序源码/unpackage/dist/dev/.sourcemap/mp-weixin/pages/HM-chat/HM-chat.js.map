{"version":3,"sources":["uni-app:///main.js","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?0f8d","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?7211","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?ce42","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?ccda","uni-app:///pages/HM-chat/HM-chat.vue","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?521f","webpack:///E:/web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue?2cfa"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iG;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AAC2K;AAC3K,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAA4oB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwPhqB,qH;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,iBAFA;AAGA,eAHA;AAIA,qBAJA;AAKA;AACA,6BANA;AAOA,4BAPA;AAQA,kBARA;AASA,sBATA;AAUA,iBAVA;AAWA,oBAXA;AAYA,cAZA;AAaA,kBAbA;AAcA;;AAEA;AACA,wCAjBA;;AAmBA,oBAnBA;AAoBA,uBApBA;AAqBA,4BArBA;AAsBA,sBAtBA;AAuBA,qBAvBA;AAwBA,wCAxBA;AAyBA,uBAzBA;AA0BA,qBA1BA;AA2BA;AACA,0CA5BA;AA6BA,qBA7BA;AA8BA,sBA9BA;AA+BA;AACA,yBAhCA;AAiCA;AACA,oBAlCA;AAmCA;AACA,qBApCA;AAqCA;AACA,uzBADA;AAEA,yzBAFA;AAGA,wPAHA,CArCA;;AA0CA;AACA,qBA3CA;AA4CA;AACA,sBA7CA;AA8CA,gBA9CA;AA+CA,mBA/CA;AAgDA,qBAhDA;AAiDA,eAjDA;AAkDA,oBAlDA;AAmDA,cAnDA;AAoDA,gBApDA;AAqDA,mBArDA;AAsDA,sBAtDA;;AAwDA,GA1DA;AA2DA;AACA,sBADA,EA3DA;;AA8DA;AACA,WADA,mBACA,QADA,EACA,QADA,EACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAbA,EA9DA;;AA6EA,QA7EA,oBA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA,OANA;;AAQA,GAjGA;AAkGA,UAlGA,sBAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA,OANA;;AAQA,GAtHA;AAuHA,QAvHA,kBAuHA,MAvHA,EAuHA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA;AACA,2DADA,EAFA;;AAKA,oBALA;AAMA;AACA,sBADA,EANA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA;AACA;AACA,WAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAfA;;AAiBA;AACA,WA5BA;;AA8BA,OA1CA;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAFA,CAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,gDAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA,WANA;AAOA;AACA,SA3CA;AA4CA;AACA;AACA;AACA,SA/CA;;AAiDA,KArDA,MAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,4CAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OANA;AAOA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAFA;;AAIA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA,KAFA;;AAIA,GApSA;AAqSA,QArSA,oBAqSA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KANA;AAOA,GA9SA;AA+SA;AACA,SADA,iBACA,CADA,EACA;AACA;AACA;AACA,iEADA;AAEA,sBAFA;AAGA;AACA,6DADA,EAHA;;AAMA;AACA,iCADA;AAEA,mBAFA;AAGA,+BAHA;AAIA,qBAJA,EANA;;AAYA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA,0BAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAjCA;AAkCA;AACA;AACA,aApCA;;AAsCA,SA5DA;;AA8DA,KAjEA;AAkEA,WAlEA,qBAkEA;AACA;AACA,KApEA;AAqEA,UArEA,kBAqEA,CArEA,EAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,0BAFA;AAGA,sCAHA;;AAKA;AACA;AACA;AACA,4BArBA,CAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApDA;AAqDA;AACA;AACA,SAvDA;;AAyDA,KA9IA;AA+IA,QA/IA,gBA+IA,CA/IA,EA+IA;AACA;AACA;AACA;AACA,mEADA;AAEA,wBAFA;AAGA;AACA,+DADA,EAHA;;AAMA;AACA,4BADA;AAEA,6BAFA,EANA;;AAUA;AACA;AACA;AACA;AACA,qLADA;;AAGA;AACA,WAjBA;;AAmBA;AACA,KAtKA;AAuKA,OAvKA,iBAuKA;AACA;AACA;AACA,iEADA;AAEA,sBAFA;AAGA;AACA,2EADA,EAHA;;AAMA;AACA,qCADA;AAEA,+BAFA,EANA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAZA,MAYA;AACA;AACA;AACA;AACA,SAhCA;;AAkCA;AACA,KA5MA;AA6MA;AACA,eA9MA,yBA8MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAXA;;AAaA,KA5NA;AA6NA,aA7NA,qBA6NA,GA7NA,EA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBANA;;AAQA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAZA;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OALA;AAMA,KAtQA;AAuQA;AACA,eAxQA,uBAwQA,CAxQA,EAwQA;AACA;AACA;AACA;AACA;AACA,mCALA,CAKA;AACA,mCANA,CAMA;AACA;AACA,iDADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,WA7BA;AA8BA;AACA;AACA;AACA,WAjCA;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAvDA,EAuDA,IAvDA;;AAyDA,KA5UA;AA6UA;AACA,cA9UA,wBA8UA;;AAEA,KAhVA;AAiVA;AACA,cAlVA,sBAkVA,OAlVA,EAkVA;AACA;AACA,iCAFA,CAEA;AACA,iCAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KAhWA;;AAkWA;AACA,YAnWA,sBAmWA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KA5WA;AA6WA;AACA,cA9WA,wBA8WA;AACA;AACA,KAhXA;AAiXA;AACA,cAlXA,wBAkXA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,GAHA;AAIA,KAxXA;AAyXA;AACA,eA1XA,yBA0XA;AACA;AACA,KA5XA;AA6XA;AACA,UA9XA,oBA8XA;AACA;AACA,KAhYA;AAiYA,cAjYA,sBAiYA,IAjYA,EAiYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7YA;AA8YA,WA9YA,mBA8YA,CA9YA,EA8YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjCA;AAkCA;AACA;AACA,SApCA;AAqCA,uBArCA,EAqCA,KArCA;AAsCA,KAzbA;AA0bA;AACA,YA3bA,oBA2bA,IA3bA,EA2bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA;AACA,0BADA;AAEA,4CAFA,EAEA;AACA;AACA;AACA;AACA;AACA,uEADA;AAEA,4CAFA;AAGA,0BAHA;AAIA;AACA,mEADA,EAJA;;AAOA;AACA;AACA,qEAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA,oCAFA;AAGA,gDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAhDA;AAiDA;AACA;AACA,mBAnDA;;AAqDA,eAjEA;AAkEA;AACA;AACA,eApEA;;AAsEA;AACA,SA7EA;;AA+EA,KAxhBA;AAyhBA;AACA,eA1hBA,yBA0hBA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAliBA;AAmiBA;AACA,YApiBA,oBAoiBA,EApiBA,EAoiBA;AACA;AACA,KAtiBA;;AAwiBA;AACA,iBAziBA,2BAyiBA;AACA;AACA;AACA;AACA,KA7iBA;AA8iBA,eA9iBA,uBA8iBA,IA9iBA,EA8iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxjBA;AAyjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAvmBA,sBAumBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,4BAFA;AAGA,kDAHA;;AAKA;AACA;AACA;AACA;AACA,4BAtBA,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA1DA;AA2DA;AACA;AACA,SA7DA;;AA+DA,KA5rBA;AA6rBA;AACA,gBA9rBA,wBA8rBA,GA9rBA,EA8rBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA;AAgBA;AACA,KAhtBA;;AAktBA;AACA,WAntBA,mBAmtBA,OAntBA,EAmtBA,IAntBA,EAmtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7tBA;;AA+tBA;AACA,cAhuBA,sBAguBA,GAhuBA,EAguBA;AACA;AACA,KAluBA;AAmuBA;AACA,eApuBA,uBAouBA,GApuBA,EAouBA;AACA;AACA,KAtuBA;AAuuBA;AACA,aAxuBA,qBAwuBA,GAxuBA,EAwuBA;AACA;AACA;AACA;AACA,KA5uBA;AA6uBA,qBA7uBA,6BA6uBA,GA7uBA,EA6uBA;AACA;AACA,KA/uBA;AAgvBA;AACA,oBAjvBA,4BAivBA,GAjvBA,EAivBA;AACA;AACA,KAnvBA;AAovBA;AACA,2BArvBA,mCAqvBA,GArvBA,EAqvBA;AACA;AACA,KAvvBA;AAwvBA;AACA,WAzvBA,mBAyvBA,GAzvBA,EAyvBA;AACA;AACA;AACA;AACA,4BADA;AAEA,6BAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA,SAVA;;AAYA,KAxwBA;AAywBA;AACA,aA1wBA,qBA0wBA,GA1wBA,EA0wBA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAhxBA;AAixBA;AACA,cAlxBA,sBAkxBA,CAlxBA,EAkxBA;AACA;AACA;AACA;AACA;AACA;AACA,6CANA,CAMA;AACA,KAzxBA;AA0xBA;AACA,eA3xBA,uBA2xBA,CA3xBA,EA2xBA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAlyBA;AAmyBA;AACA,eApyBA,yBAoyBA;AACA;AACA;AACA;AACA,2BAJA,CAIA;AACA,2BALA,CAKA;AACA,KA1yBA;AA2yBA;AACA,YA5yBA,oBA4yBA,CA5yBA,EA4yBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAzzBA;AA0zBA;AACA,YA3zBA,oBA2zBA,CA3zBA,EA2zBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAPA,CAOA;AACA,KAn0BA;AAo0BA;AACA,aAr0BA,qBAq0BA,CAr0BA,EAq0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,6BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA,qEADA;AAEA,oCAFA;AAGA,wBAHA;AAIA;AACA,iEADA,EAJA;;AAOA;AACA;AACA;AACA;AACA,gCAJA,CAIA;AACA;AACA,+BANA,CAMA;AACA,kEAPA,CAOA;AACA;AACA,0BADA;AAEA;AACA,0BAHA;AAIA,gCAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA,kCAFA;AAGA,8CAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBA9CA;AA+CA;AACA;AACA,iBAjDA;;AAmDA,aAzEA;AA0EA;AACA;AACA,aA5EA;;AA8EA;AACA,OArGA,MAqGA;AACA;AACA;AACA;AACA,KA57BA;AA67BA;AACA,eA97BA,yBA87BA;AACA;AACA;AACA,KAj8BA;AAk8BA,WAl8BA,qBAk8BA;AACA;AACA,KAp8BA,EA/SA,E;;;;;;;;;;;;;ACzPA;AAAA;AAAA;AAAA;AAAirC,CAAgB,2jCAAG,EAAC,C;;;;;;;;;;;ACArsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/HM-chat/HM-chat.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/HM-chat/HM-chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./HM-chat.vue?vue&type=template&id=75cfeade&\"\nvar renderjs\nimport script from \"./HM-chat.vue?vue&type=script&lang=js&\"\nexport * from \"./HM-chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HM-chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"web前端练习/vue练习/缘拼/pages/HM-chat/HM-chat.vue\"\nexport default component.exports","export * from \"-!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./HM-chat.vue?vue&type=template&id=75cfeade&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.sendArray, function(view, index) {\n    var g0 = JSON.parse(view.Comment)\n    return {\n      $orig: _vm.__get_orig(view),\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./HM-chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./HM-chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"content\" @touchstart=\"hideDrawer\">\r\n\t\t\t<scroll-view class=\"msg-list\" scroll-y=\"true\" :scroll-with-animation=\"scrollAnimation\" :scroll-top=\"scrollTop\" :scroll-into-view=\"scrollToView\" @scrolltoupper=\"loadHistory\" upper-threshold=\"50\">\r\n\t\t\t\t<!-- 加载历史数据waitingUI -->\r\n\t\t\t\t<view class=\"loading\" v-if=\"isHistoryLoading\">\r\n\t\t\t\t\t<view class=\"spinner\">\r\n\t\t\t\t\t\t<view class=\"rect1\"></view>\r\n\t\t\t\t\t\t<view class=\"rect2\"></view>\r\n\t\t\t\t\t\t<view class=\"rect3\"></view>\r\n\t\t\t\t\t\t<view class=\"rect4\"></view>\r\n\t\t\t\t\t\t<view class=\"rect5\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"row\" v-for=\"(row,key) in msgList\" :key=\"key\" :id=\"row.messageUId\">\r\n\t\t\t\t\t<!-- 系统消息 -->\r\n\t\t\t\t\t<block v-if=\"row.messageType=='system'\" >\r\n\t\t\t\t\t\t<view class=\"system\">\r\n\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t<view v-if=\"row.type=='time'\" class=\"text\">\r\n\t\t\t\t\t\t\t\t{{row.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-if=\"row.messageType=='getPin'\" >\r\n\t\t\t\t\t\t<view class=\"system\">\r\n\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t<view class=\"text\" style=\"color: #30C6B0;background-color: #FFFFFF;\" @click=\"pin\">\r\n\t\t\t\t\t\t\t\t{{row.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-if=\"row.content.extra.type=='system'\" >\r\n\t\t\t\t\t\t<view class=\"system\">\r\n\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t\t{{row.content.extra.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 用户消息 -->\r\n\t\t\t\t\t<block>\r\n\t\t\t\t\t\t<!-- 自己发出的消息 -->\r\n\t\t\t\t\t\t<view class=\"my\" v-if=\"row.senderUserId== myId&&row.content.extra.type!='system' \">\r\n\t\t\t\t\t\t\t<!-- 左-消息 -->\r\n\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.messageType=='TextMessage'&&row.content.extra.type!='pin'&&row.content.extra.type!='system'\" class=\"bubble\" style=\"max-height: 5000upx;\">\r\n\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"row.content.extra\"></rich-text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 语言消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.content.type=='mp3'\" class=\"bubble voice\" @tap=\"playVoice(row)\" :class=\"playMsgid == row.messageUId?'play':''\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"length\">{{row.content.name}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"icon my-voice\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 图片消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.messageType=='ImageMessage'\" class=\"bubble img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"row.content.imageUri\"  mode=\"widthFix\" @tap=\"showPic(row.content)\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- pin消息 -->\r\n\t\t\t\t\t\t\t\t<block v-if=\"row.content.extra.type=='pin'\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"pinByMe\">\r\n\t\t\t\t\t\t\t\t\t\t<text>您发起了ta标题为</text><text style=\"color: #30C6B0;\">{{row.content.extra.title}}</text><text>的缘拼请求</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 右-头像 -->\r\n\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t<image :src=\"myAvatarUrl\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 别人发出的消息 -->\r\n\t\t\t\t\t\t<view class=\"other\" v-if=\"row.senderUserId== targetId&&row.content.extra.type!='system'\">\r\n\t\t\t\t\t\t\t<!-- 左-头像 -->\r\n\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t<image :src=\"avatarUrl\" @click=\"jump('friend')\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 右-用户名称-时间-消息 -->\r\n\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t<view class=\"username\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"name\">{{uName}}</view> <view class=\"time\">{{row.msg.time}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.messageType=='TextMessage'&&row.content.extra.type!='pin'&&row.content.extra.type!='system'\" class=\"bubble\" style=\"max-height: 5000upx;\">\r\n\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"row.content.extra\"></rich-text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 语音消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.content.type=='mp3'\" class=\"bubble voice\" @tap=\"playVoice(row)\" :class=\"playMsgid == row.messageUId?'play':''\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"icon other-voice\"></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"length\">{{row.content.name}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 图片消息 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"row.messageType=='ImageMessage'\" class=\"bubble img\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"row.content.imageUri\" mode=\"widthFix\" @tap=\"showPic(row.content)\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- pin消息 -->\r\n\t\t\t\t\t\t\t\t<block v-if=\"row.content.extra.type=='pin'\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"pinByYou\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pin-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"row.senderUserId != myId\">{{uName}}想参与您标题为</text><text style=\"color: #30C6B0;\">{{row.content.extra.title}}</text><text>的缘拼</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"yesOrNo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"no\" @click=\"disagree\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t拒绝\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"yes\" @click=\"agree(row.content.extra.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t同意\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<!-- 抽屉栏 -->\r\n\t\t<view class=\"popup-layer\" :class=\"popupLayerClass\" @touchmove.stop.prevent=\"discard\">\r\n\t\t\t<!-- 表情 --> \r\n\t\t\t<swiper class=\"emoji-swiper\" :class=\"{hidden:hideEmoji}\" indicator-dots=\"true\" duration=\"150\">\r\n\t\t\t\t<swiper-item v-for=\"(page,pid) in emojiList\" :key=\"pid\">\r\n\t\t\t\t\t<view v-for=\"(em,eid) in page\" :key=\"eid\" @tap=\"addEmoji(em)\">\r\n\t\t\t\t\t\t<image mode=\"widthFix\" :src=\"'https://zmetalhearty.com/yuanpin/emoji/'+em.url\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<!-- 更多功能 相册-拍照-红包 -->\r\n\t\t\t<view class=\"more-layer\" :class=\"{hidden:hideMore}\">\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view class=\"box\" @tap=\"chooseImage\"><view class=\"icon tupian2\"></view></view>\r\n\t\t\t\t\t<view class=\"box\" @tap=\"camera\"><view class=\"icon paizhao\"></view></view>\r\n\t\t\t\t\t<view class=\"box\" @tap=\"pin\"><image src=\"../../static/icon/拼.png\" mode=\"\" style=\"width: 70upx;height: 70upx;\"></image></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部输入栏 -->\r\n\t\t<view class=\"input-box\" :class=\"popupLayerClass\" @touchmove.stop.prevent=\"discard\">\r\n\t\t\t<!-- H5下不能录音，输入栏布局改动一下 -->\r\n\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t<view class=\"voice\">\r\n\t\t\t\t<view class=\"icon\" :class=\"isVoice?'jianpan':'yuyin'\" @tap=\"switchVoice\"></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<view class=\"more\" @tap=\"showMore\">\r\n\t\t\t\t<view class=\"icon add\"></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"textbox\">\r\n\t\t\t\t<view class=\"voice-mode\" :class=\"[isVoice?'':'hidden',recording?'recording':'']\" @touchstart=\"voiceBegin\" @touchmove.stop.prevent=\"voiceIng\" @touchend=\"voiceEnd\" @touchcancel=\"voiceCancel\">{{voiceTis}}</view>\r\n\t\t\t\t<view class=\"text-mode\"  :class=\"isVoice?'hidden':''\">\r\n\t\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t\t<textarea :focus=\"getFocus\" show-confirm-bar=\"false\" hold-keyboard=\"true\" @input=\"spaceStatus\" @confirm=\"sendText\" style=\"max-height: 200upx;\" auto-height=\"true\" :cursor-spacing=\"space==0?100:0\" v-model=\"textMsg\" @focus=\"textareaFocus\" maxlength=\"-1\"/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"em\" @tap=\"chooseEmoji\">\r\n\t\t\t\t\t\t<view class=\"icon biaoqing\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t<view class=\"more\" @tap=\"showMore\">\r\n\t\t\t\t<view class=\"icon add\"></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"send\" :class=\"isVoice?'hidden':''\" @tap=\"sendText\">\r\n\t\t\t\t<view class=\"btn\">发送</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 录音UI效果 -->\r\n\t\t<view class=\"record\" :class=\"recording?'':'hidden'\">\r\n\t\t\t<view class=\"ing\" :class=\"willStop?'hidden':''\"><view class=\"icon luyin2\" ></view></view>\r\n\t\t\t<view class=\"cancel\" :class=\"willStop?'':'hidden'\"><view class=\"icon chehui\" ></view></view>\r\n\t\t\t<view class=\"tis\" :class=\"willStop?'change':''\">{{recordTis}}</view>\r\n\t\t</view>\r\n\t\t<!-- popup -->\r\n\t\t<uni-popup ref=\"popup\" type=\"center\" style=\"z-index: 999\">\r\n\t\t\t<view class=\"pop-title\">\r\n\t\t\t\tta的缘拼\r\n\t\t\t</view>\r\n\t\t\t<view class=\"empty\" v-if=\"sendEmpty\">\r\n\t\t\t\tta还没有发布过缘拼呢~\r\n\t\t\t</view>\r\n\t\t\t<scroll-view class=\"pop\" scroll-y=\"true\" v-if=\"!sendEmpty\">\r\n\t\t\t\t<view class=\"viewBox\" v-for=\"(view,index) in sendArray\" :key=\"index\" @click=\"choose(view)\">\r\n\t\t\t\t\t<view class=\"view-title\">\r\n\t\t\t\t\t\t<view class=\"title-text\">\r\n\t\t\t\t\t\t\t{{view.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"title-time\">\r\n\t\t\t\t\t\t\t{{view.date}} {{view.time}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"view-content\">\r\n\t\t\t\t\t\t{{view.details}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view :class=\"view.type=='travel'?'location':'location1'\">\r\n\t\t\t\t\t\t<view :class=\"view.type=='travel'?'view-location':'view-location1'\">\r\n\t\t\t\t\t\t\t<view class=\"location-left\">\r\n\t\t\t\t\t\t\t\t<image v-if=\"view.type=='travel'\" style=\"width: 34upx;height: 34upx;\" src=\"../../static/image/-departure.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<image v-if=\"view.type!='travel'\" src=\"../../static/icon/address.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view :class=\"view.type=='travel'?'location-right':'location-right1'\">\r\n\t\t\t\t\t\t\t\t<text v-if=\"view.type=='travel'\">{{view.pstart.name}}</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"view.type!='travel'\">{{view.address.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"view-location\" v-if=\"view.type=='travel'\">\r\n\t\t\t\t\t\t\t<view class=\"location-left\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/image/-landing.png\" style=\"width: 34upx;height: 34upx;\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"location-right\">\r\n\t\t\t\t\t\t\t\t<text v-if=\"view.type=='travel'\">{{view.pend.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"view-user\">\r\n\t\t\t\t\t\t<view class=\"user-left\">\r\n\t\t\t\t\t\t\t<image :src=\"view.Userimg\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<view class=\"name-type\">\r\n\t\t\t\t\t\t\t\t<text class=\"name\">{{view.nickname}}</text>\r\n\t\t\t\t\t\t\t\t<view :class=\"view.type=='food'?'food':(view.type=='travel'?'travel':(view.type=='study'?'study':(view.type=='game'?'game':'none')))\">\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"view.type=='food'\" class=\"food-text\">拼美食</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"view.type=='travel'\" class=\"travel-text\">拼出行</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"view.type=='study'\" class=\"study-text\">拼学习</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"view.type=='game'\" class=\"game-text\">拼娱乐</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"user-right\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/like.png\" mode=\"\" id=\"like\"></image>\r\n\t\t\t\t\t\t\t<text>{{view.likeCount}}</text>\r\n\t\t\t\t\t\t\t<image src=\"../../static/icon/comment.png\" id=\"comment\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<text>{{JSON.parse(view.Comment).length}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"pop-bottom\" hover-class=\"pop-bottom-hover\" @click=\"hidePop\">\r\n\t\t\t\t取  消\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script> \r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue';\r\n\timport RongIMLib from '../RongIMLib.miniprogram-1.1.3.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//文字消息\r\n\t\t\t\ttextMsg:'',\r\n\t\t\t\tspace:'',\r\n\t\t\t\tgetFocus:false,\r\n\t\t\t\t//消息列表\r\n\t\t\t\tisHistoryLoading:false,\r\n\t\t\t\tscrollAnimation:false,\r\n\t\t\t\tscrollTop:0,\r\n\t\t\t\tscrollToView:'',\r\n\t\t\t\tmsgList:[],\r\n\t\t\t\tmsgImgList:[],\r\n\t\t\t\tmyuid:0,\r\n\t\t\t\ttargetId:'',\r\n\t\t\t\t//录音相关参数\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\t//H5不能录音\r\n\t\t\t\tRECORDER:uni.getRecorderManager(),\r\n\t\t\t\t// #endif\r\n\t\t\t\tisVoice:false,\r\n\t\t\t\tvoiceTis:'按住 说话',\r\n\t\t\t\trecordTis:\"手指上滑 取消发送\",\r\n\t\t\t\trecording:false,\r\n\t\t\t\twillStop:false,\r\n\t\t\t\tinitPoint:{identifier:0,Y:0},\r\n\t\t\t\trecordTimer:null,\r\n\t\t\t\trecordLength:0,\r\n\t\t\t\t//播放语音相关参数\r\n\t\t\t\tAUDIO:uni.createInnerAudioContext(),\r\n\t\t\t\tplayMsgid:null,\r\n\t\t\t\tVoiceTimer:null,\r\n\t\t\t\t// 抽屉参数\r\n\t\t\t\tpopupLayerClass:'',\r\n\t\t\t\t// more参数\r\n\t\t\t\thideMore:true,\r\n\t\t\t\t//表情定义\r\n\t\t\t\thideEmoji:true,\r\n\t\t\t\temojiList:[\r\n\t\t\t\t\t[{\"url\":\"0.png\",alt:\"[微笑]\"},{\"url\":\"1.png\",alt:\"[伤心]\"},{\"url\":\"2.png\",alt:\"[高兴]\"},{\"url\":\"3.png\",alt:\"[有些不爽]\"},{\"url\":\"4.png\",alt:\"[不舒服]\"},{\"url\":\"5.png\",alt:\"[亲亲]\"},{\"url\":\"6.png\",alt:\"[生气]\"},{\"url\":\"7.png\",alt:\"[流泪]\"},{\"url\":\"8.png\",alt:\"[无语]\"},{\"url\":\"9.png\",alt:\"[吐舌笑]\"},{\"url\":\"10.png\",alt:\"[惊吓]\"},{\"url\":\"11.png\",alt:\"[流汗]\"},{\"url\":\"12.png\",alt:\"[小声]\"},{\"url\":\"13.png\",alt:\"[气的冒烟]\"},{\"url\":\"14.png\",alt:\"[戴口罩]\"},{\"url\":\"15.png\",alt:\"[疑问]\"},{\"url\":\"16.png\",alt:\"[紧张]\"},{\"url\":\"17.png\",alt:\"[呕吐]\"},{\"url\":\"18.png\",alt:\"[面无表情]\"},{\"url\":\"19.png\",alt:\"[祝贺]\"},{\"url\":\"20.png\",alt:\"[泪眼]\"},{\"url\":\"21.png\",alt:\"[白眼]\"},{\"url\":\"22.png\",alt:\"[鬼脸]\"},{\"url\":\"23.png\",alt:\"[哭笑不得]\"}],\r\n\t\t\t\t\t[{\"url\":\"24.png\",alt:\"[发烧]\"},{\"url\":\"25.png\",alt:\"[惊讶]\"},{\"url\":\"26.png\",alt:\"[冻僵]\"},{\"url\":\"27.png\",alt:\"[汗]\"},{\"url\":\"28.png\",alt:\"[高兴]\"},{\"url\":\"29.png\",alt:\"[眼冒金星]\"},{\"url\":\"30.png\",alt:\"[嘟嘴]\"},{\"url\":\"31.png\",alt:\"[大哭]\"},{\"url\":\"32.png\",alt:\"[说谎]\"},{\"url\":\"33.png\",alt:\"[想吐]\"},{\"url\":\"34.png\",alt:\"[难过]\"},{\"url\":\"35.png\",alt:\"[臭臭]\"},{\"url\":\"36.png\",alt:\"[笑的流泪]\"},{\"url\":\"37.png\",alt:\"[怒骂]\"},{\"url\":\"38.png\",alt:\"[睡觉]\"},{\"url\":\"39.png\",alt:\"[天使]\"},{\"url\":\"40.png\",alt:\"[心动]\"},{\"url\":\"41.png\",alt:\"[恶魔]\"},{\"url\":\"42.png\",alt:\"[尴尬]\"},{\"url\":\"43.png\",alt:\"[挤眼笑]\"},{\"url\":\"44.png\",alt:\"[温馨]\"},{\"url\":\"45.png\",alt:\"[说漏嘴]\"},{\"url\":\"46.png\",alt:\"[酷]\"},{\"url\":\"47.png\",alt:\"[拽]\"}],\r\n\t\t\t\t\t[{\"url\":\"48.png\",alt:\"[思考]\"},{\"url\":\"49.png\",alt:\"[不爽]\"},{\"url\":\"50.png\",alt:\"[气的颠倒]\"},{\"url\":\"51.png\",alt:\"[丧气]\"},{\"url\":\"52.png\",alt:\"[wink]\"},{\"url\":\"53.png\",alt:\"[哈欠]\"},{\"url\":\"54.png\",alt:\"[噤声]\"}]\t\t\r\n\t\t\t\t],\r\n\t\t\t\t//表情图片图床名称 ，由于我上传的第三方图床名称会有改变，所以有此数据来做对应，您实际应用中应该不需要\r\n\t\t\t\tonlineEmoji:{},\r\n\t\t\t\t//红包相关参数\r\n\t\t\t\twindowsState:'',\r\n\t\t\t\tpostId:-1,\r\n\t\t\t\tavatarUrl:'',\r\n\t\t\t\tmyAvatarUrl:'',\r\n\t\t\t\tuName:'',\r\n\t\t\t\tmyNickName:'',\r\n\t\t\t\tmyId:'',\r\n\t\t\t\tViewid:'',\r\n\t\t\t\tsendArray:[],\r\n\t\t\t\tsendEmpty:false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tuniPopup\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tmsgList(newValue,oldValue) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar push = that.$store.state.pushStatus;\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(push);\r\n\t\t\t\tif(push){\r\n\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('changePush',false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tvar that = this;\r\n\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\tif(that.$store.state.conversation[i].targetId==this.targetId) {\r\n\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\tconver[i].unreadMessageCount=0;\r\n\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\tuni.setStorageSync('msgTargetId',0);\r\n\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\tRongIMLib.RongIMClient.getInstance().clearUnreadCount(conversationType, that.targetId, {\r\n\t\t\t  onSuccess: function() {\r\n\t\t\t    console.log('清除指定会话未读消息数成功');\r\n\t\t\t  },\r\n\t\t\t  onError: function(error) {\r\n\t\t\t    console.log('清除指定会话未读消息数失败', error);\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tvar that = this;\r\n\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\tif(that.$store.state.conversation[i].targetId==this.targetId) {\r\n\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\tconver[i].unreadMessageCount=0;\r\n\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\tuni.setStorageSync('msgTargetId',0);\r\n\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\tRongIMLib.RongIMClient.getInstance().clearUnreadCount(conversationType, that.targetId, {\r\n\t\t\t  onSuccess: function() {\r\n\t\t\t    console.log('清除指定会话未读消息数成功');\r\n\t\t\t  },\r\n\t\t\t  onError: function(error) {\r\n\t\t\t    console.log('清除指定会话未读消息数失败', error);\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.myId=uni.getStorageSync('ID');\r\n\t\t\tthis.avatarUrl=option.avatarUrl;\r\n\t\t\tthis.uName=option.uName;\r\n\t\t\tconsole.log(this.uName);\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t    title:this.uName\r\n\t\t\t});\r\n\t\t\tthis.myNickName = uni.getStorageSync('nickName');\r\n\t\t\tthis.myAvatarUrl = uni.getStorageSync('avatarUrl');\r\n\t\t\tthis.targetId = option.targetId;\r\n\t\t\tvar that = this;\r\n\t\t\tuni.setStorageSync('msgTargetId',this.targetId);\r\n\t\t\tconsole.log(this.targetId);\r\n\t\t\t//融云\r\n\t\t\tthis.$rongyun();\r\n\t\t\tvar openid = uni.getStorageSync('openId');\r\n\t\t\tvar nickName = uni.getStorageSync('nickName');\r\n\t\t\tvar avatarUrl = uni.getStorageSync('avatarUrl');\r\n\t\t\tuni.request({\r\n\t\t\t\turl:'https://zmetalhearty.com/yuanpin/Ronglogin',\r\n\t\t\t\theader: {\r\n\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tuserId:openid\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tvar token = res.data.token;\r\n\t\t\t\t\tRongIMLib.RongIMClient.connect(token, {\r\n\t\t\t\t\t  onSuccess: function(userId) {\r\n\t\t\t\t\t    console.log('连接成功, 用户 id 为', userId);\r\n\t\t\t\t\t    // 连接已成功, 此时可通过 getConversationList 获取会话列表并展示 \r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  onTokenIncorrect: function() {\r\n\t\t\t\t\t    console.log('连接失败, 失败原因: token 无效');\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  onError: function(errorCode) {\r\n\t\t\t\t\t    var info = '';\r\n\t\t\t\t\t    switch (errorCode) {\r\n\t\t\t\t\t      case RongIMLib.ErrorCode.TIMEOUT:\r\n\t\t\t\t\t        info = '链接超时';\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t      case RongIMLib.ConnectionState.UNACCEPTABLE_PAROTOCOL_VERSION:\r\n\t\t\t\t\t        info = '不可接受的协议版本';\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t      case RongIMLib.ConnectionState.IDENTIFIER_REJECTED:\r\n\t\t\t\t\t        info = 'appkey 不正确';\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t      case RongIMLib.ConnectionState.SERVER_UNAVAILABLE:\r\n\t\t\t\t\t        info = '服务器不可用';\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t      default:\r\n\t\t\t\t\t        info = errorCode;\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    console.log('连接失败, 失败原因: ', info);\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t});\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tvar msgArr = uni.getStorageSync('msgList'+this.targetId);\r\n\t\t\t// if(msgArr.length!=0) {\r\n\t\t\t// \tthis.$store.commit('updateMsg',msgArr);\r\n\t\t\t// }\r\n\t\t\t// var msg = this.$store.state.msgList;\r\n\t\t\t// this.msgList = this.$store.state.msgList;\r\n\t\t\t// console.log(this.msgList);\r\n\t\t\t// console.log(msg);\r\n\t\t\tvar sendStatus = uni.getStorageSync('sendStatus');\r\n\t\t\tif(msgArr.length==0) {\r\n\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\tvar timestrap = null; // 默认传 null, 若从头开始获取历史消息, 请赋值为 0\r\n\t\t\t\tvar count = 20;\r\n\t\t\t\tRongIMLib.RongIMClient.getInstance().getHistoryMessages(conversationType, that.targetId, timestrap, count, {\r\n\t\t\t\t  onSuccess: function(list, hasMsg) {\r\n\t\t\t\t    /* \r\n\t\t\t\t        list: 获取的历史消息列表\r\n\t\t\t\t        hasMsg: 是否还有历史消息可以获取\r\n\t\t\t\t      */\r\n\t\t\t\t    console.log('获取历史消息成功');\r\n\t\t\t\t\tvar arr = JSON.stringify(list);\r\n\t\t\t\t\tvar newArr = JSON.parse(arr);\r\n\t\t\t\t\tfor(var j=0;j<newArr.length;j++) {\r\n\t\t\t\t\t\tif(newArr[j].messageType=='TextMessage') {\r\n\t\t\t\t\t\t\tif(newArr[j].content.extra.type!='pin'&&newArr[j].content.extra.type!='system') {\r\n\t\t\t\t\t\t\t\tnewArr[j].content.extra = that.replaceEmoji(newArr[j].content.content);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('updateMsg',newArr);\r\n\t\t\t\t\tthat.msgList = that.$store.state.msgList;\r\n\t\t\t\t\tvar findImg = false;\r\n\t\t\t\t\tfor(var n=0;n<that.msgList.length;n++) {\r\n\t\t\t\t\t\tif(that.msgList[n].messageType=='ImageMessage'&&typeof(that.msgList[n].content.imageUri!='undefined')) {\r\n\t\t\t\t\t\t\tthat.msgImgList.push(that.msgList[n].content.imageUri);\r\n\t\t\t\t\t\t\tfindImg = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(findImg) {\r\n\t\t\t\t\t\tthat.$store.commit('updateImg',that.msgImgList);\r\n\t\t\t\t\t\tthat.msgList = that.$store.state.msgList;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(that.msgList);\r\n\t\t\t\t\tvar showPin = {\r\n\t\t\t\t\t\tmessageType:'getPin',\r\n\t\t\t\t\t\tcontent:'点击发起缘拼，或从右下角加号 => 缘拼图标 发起'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('pushMsg',showPin);\r\n\t\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\t\t//进入页面滚动到底部\r\n\t\t\t\t\t\tthat.scrollTop = 99999;\r\n\t\t\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\t\t\tthat.scrollAnimation = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t  },\r\n\t\t\t\t  onError: function(error) {\r\n\t\t\t\t    // 请排查：单群聊消息云存储是否开通\r\n\t\t\t\t    console.log('获取历史消息失败', error);\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t}else {\r\n\t\t\t\tvar msgList=uni.getStorageSync('msgList'+that.targetId);\r\n\t\t\t\tconsole.log(msgList);\r\n\t\t\t\tfor(var a=0;a<msgList.length;a++) {\r\n\t\t\t\t\tif(msgList[a].messageType=='TextMessage') {\r\n\t\t\t\t\t\tif(msgList[a].content.extra.type!='pin'&&msgList[a].content.extra.type!='system') {\r\n\t\t\t\t\t\t\tmsgList[a].content.extra = that.replaceEmoji(msgList[a].content.content);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(msgList[a].messageType=='ImageMessage'&&typeof(msgList[a].content.imageUri!='undefined')) {\r\n\t\t\t\t\t\tthat.msgImgList.push(msgList[a].content.imageUri)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.$store.commit('updateMsg',msgList);\r\n\t\t\t\tthat.$store.commit('updateImg',that.msgImgList);\r\n\t\t\t\tthat.msgList = that.$store.state.msgList;\r\n\t\t\t\tthat.msgImgList = that.$store.state.msgImgList;\r\n\t\t\t\tvar showPin = {\r\n\t\t\t\t\tmessageType:'getPin',\r\n\t\t\t\t\tcontent:'点击发起缘拼，或从右下角加号 => 缘拼图标 发起'\r\n\t\t\t\t}\r\n\t\t\t\tthat.$store.commit('pushMsg',showPin);\r\n\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\t//进入页面滚动到底部\r\n\t\t\t\t\tthat.scrollTop = 99999;\r\n\t\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\t\tthat.scrollAnimation = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(that.msgImgList);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//this.getMsgList();\r\n\t\t\t//语音自然播放结束\r\n\t\t\tthis.AUDIO.onEnded((res)=>{\r\n\t\t\t\tthis.playMsgid=null;\r\n\t\t\t});\r\n\t\t\t// #ifndef H5\r\n\t\t\t//录音开始事件\r\n\t\t\tthis.RECORDER.onStart((e)=>{\r\n\t\t\t\tthis.recordBegin(e);\r\n\t\t\t})\r\n\t\t\t//录音结束事件\r\n\t\t\tthis.RECORDER.onStop((e)=>{\r\n\t\t\t\tthis.recordEnd(e);\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tvar that = this;\r\n\t\t\tthat.$nextTick(function() {\r\n\t\t\t\tthat.scrollTop = 9999;\r\n\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\tthat.scrollAnimation = true;\r\n\t\t\t\t});\r\n\t\t\t\tuni.setStorageSync('pushStatus',false);\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tagree(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:'https://zmetalhearty.com/yuanpin/HomeItemsOperator',\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\toperation:'addPartake',\r\n\t\t\t\t\t\titemID:e,\r\n\t\t\t\t\t\tUserID:this.targetId,\r\n\t\t\t\t\t\tstatus:'2'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'缘拼成功~',\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tvar msg = new RongIMLib.TextMessage({ content: '[缘拼成功]', extra: {type:'system',content:'缘拼成功！请到 我的缘拼->我参与的 中查看'}});\r\n\t\t\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\t\t\tRongIMLib.RongIMClient.getInstance().sendMessage(conversationType, that.targetId, msg, {\r\n\t\t\t\t\t\t  onSuccess: function (message) {\r\n\t\t\t\t\t\t    console.log('发送文本消息成功', message);\r\n\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\tthat.$store.commit('pushMsg',message);\r\n\t\t\t\t\t\t\tvar getMsg = true;\r\n\t\t\t\t\t\t\tvar findConver = false;\r\n\t\t\t\t\t\t\tfor(var a=0;a<that.$store.state.conversation.length;a++) {\r\n\t\t\t\t\t\t\t\tif(that.$store.state.conversation[a].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\tfindConver = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!findConver) {\r\n\t\t\t\t\t\t\t\tthat.findCon();\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(conver);\r\n\t\t\t\t\t\t\t\t\t\tconver[i].latestMessage.content.content = message.content.content;\r\n\t\t\t\t\t\t\t\t\t\tvar time = that.changeTime(conver[i].sentTime);\r\n\t\t\t\t\t\t\t\t\t\tconver[i].sentTime = time;\r\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('msgImgList'+that.targetId,that.$store.state.msgImgList);\r\n\t\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t  onError: function (errorCode) {\r\n\t\t\t\t\t\t    console.log('发送文本消息失败', errorCode);\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thidePop() {\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},\r\n\t\t\tchoose(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tvar getMoreTime = function() {\r\n\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\t\tvar day = date.getDate();\r\n\t\t\t\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t\t\treturn timer;\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar msg = new RongIMLib.TextMessage({ content: '[发起缘拼]', extra: {type:'pin',id:e.ID,title:e.title}});\r\n\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\tRongIMLib.RongIMClient.getInstance().sendMessage(conversationType, that.targetId, msg, {\r\n\t\t\t\t  onSuccess: function (message) {\r\n\t\t\t\t    // message 为发送的消息对象并且包含服务器返回的消息唯一 id 和发送消息时间戳\r\n\t\t\t\t    console.log('发送文本消息成功', message);\r\n\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\t\tvar haoTime = new Date().getTime();\r\n\t\t\t\t\tconsole.log(nowStandardTime);\r\n\t\t\t\t\tif(that.$store.state.msgList.length>1) {\r\n\t\t\t\t\t\tvar length = that.$store.state.msgList.length-1;\r\n\t\t\t\t\t\tvar betweenTime = haoTime-that.$store.state.msgList[length].sentTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(betweenTime);\r\n\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\tcontent:nowStandardTime\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.$store.commit('pushMsg',showTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('pushMsg',message);\r\n\t\t\t\t\tthat.textMsg = '';//清空输入框\r\n\t\t\t\t\tvar getMsg = true;\r\n\t\t\t\t\tvar findConver = false;\r\n\t\t\t\t\tfor(var a=0;a<that.$store.state.conversation.length;a++) {\r\n\t\t\t\t\t\tif(that.$store.state.conversation[a].targetId==that.targetId) {\r\n\t\t\t\t\t\t\tfindConver = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!findConver) {\r\n\t\t\t\t\t\tthat.findCon();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\t\t\tconsole.log(conver);\r\n\t\t\t\t\t\t\t\tconver[i].latestMessage.content.content = message.content.content;\r\n\t\t\t\t\t\t\t\tvar time = that.changeTime(conver[i].sentTime);\r\n\t\t\t\t\t\t\t\tconver[i].sentTime = time;\r\n\t\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\t\tuni.setStorageSync('msgImgList'+that.targetId,that.$store.state.msgImgList);\r\n\t\t\t\t\t\tthat.$refs.popup.close();\r\n\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t  },\r\n\t\t\t\t  onError: function (errorCode) {\r\n\t\t\t\t    console.log('发送文本消息失败', errorCode);\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tjump(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(e=='friend') {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:'https://zmetalhearty.com/yuanpin/GetUserInfoInRong',\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tFocus:that.myId,\r\n\t\t\t\t\t\t\tID:that.targetId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tif(res.data.code==1) {\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:'../info/info?targetName='+res.data.nickname+'&targetId='+res.data.ID+'&avatarUrl='+res.data.img+'&sex='+res.data.sex+'&type='+res.data.status\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpin() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://zmetalhearty.com/yuanpin/HomeItemsOperator',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\toperation:'getAllbyUserID',\r\n\t\t\t\t\t\tUserID:this.targetId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tfor(var key in res.data) {\r\n\t\t\t\t\t\t\tvar array = res.data[key];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar length = array.length;\r\n\t\t\t\t\t\tif(length!=0) {\r\n\t\t\t\t\t\t\tfor(var i=0;i<length;i++) {\r\n\t\t\t\t\t\t\t\tif(array[i].address) {\r\n\t\t\t\t\t\t\t\t\tvar add = JSON.parse(array[i].address);\r\n\t\t\t\t\t\t\t\t\tarray[i].address = add;\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tvar add1 = JSON.parse(array[i].pstart);\r\n\t\t\t\t\t\t\t\t\tarray[i].pstart = add1;\r\n\t\t\t\t\t\t\t\t\tvar add2 = JSON.parse(array[i].pend);\r\n\t\t\t\t\t\t\t\t\tarray[i].pend = add2;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthat.sendEmpty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.sendArray = array;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\t\t\t// 接受消息(筛选处理)\r\n\t\t\tspaceStatus() {\r\n\t\t\t\t switch(uni.getSystemInfoSync().platform){\r\n\t\t\t\t    case 'android':\r\n\t\t\t\t       console.log('运行Android上')\r\n\t\t\t\t\t   this.space=='1'\r\n\t\t\t\t       break;\r\n\t\t\t\t    case 'ios':\r\n\t\t\t\t       console.log('运行iOS上')\r\n\t\t\t\t\t   this.space=='0'\r\n\t\t\t\t       break;\r\n\t\t\t\t    default:\r\n\t\t\t\t       console.log('运行在开发者工具上')\r\n\t\t\t\t       break;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscreenMsg(msg){\r\n\t\t\t\t//从长连接处转发给这个方法，进行筛选处理\r\n\t\t\t\tif(msg.type=='system'){\r\n\t\t\t\t\t// 系统消息\r\n\t\t\t\t\tswitch (msg.msg.type){\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\tthis.addSystemTextMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'redEnvelope':\r\n\t\t\t\t\t\t\tthis.addSystemRedEnvelopeMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(msg.type=='user'){\r\n\t\t\t\t\t// 用户消息\r\n\t\t\t\t\tswitch (msg.msg.type){\r\n\t\t\t\t\t\tcase 'text':\r\n\t\t\t\t\t\t\tthis.addTextMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'voice':\r\n\t\t\t\t\t\t\tthis.addVoiceMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'img':\r\n\t\t\t\t\t\t\tthis.addImgMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'redEnvelope':\r\n\t\t\t\t\t\t\tthis.addRedEnvelopeMsg(msg);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('用户消息');\r\n\t\t\t\t\t//非自己的消息震动\r\n\t\t\t\t\tif(msg.msg.userinfo.uid!=this.myuid){\r\n\t\t\t\t\t\tconsole.log('振动');\r\n\t\t\t\t\t\tuni.vibrateLong();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\tthat.scrollTop = 99999;\r\n\t\t\t\t\tthat.$nextTick(function() {\r\n\t\t\t\t\t\tthat.scrollAnimation = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//触发滑动到顶部(加载历史信息记录)\r\n\t\t\tloadHistory(e){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(this.isHistoryLoading){\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\tthis.isHistoryLoading = true;//参数作为进入请求标识，防止重复请求\r\n\t\t\t\tthis.scrollAnimation = false;//关闭滑动动画\r\n\t\t\t\tif(that.msgList.length!=0) {\r\n\t\t\t\t\tthat.Viewid = that.msgList[0].messageUId;//记住第一个信息ID\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t// 消息列表\r\n\t\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\t\tvar timestrap = null; // 默认传 null, 若从头开始获取历史消息, 请赋值为 0\r\n\t\t\t\t\tvar count=20;\r\n\t\t\t\t\tRongIMLib.RongIMClient.getInstance().getHistoryMessages(conversationType, that.targetId, timestrap, count, {\r\n\t\t\t\t\t  onSuccess: function(list, hasMsg) {\r\n\t\t\t\t\t\tconsole.log(list);\r\n\t\t\t\t\t    console.log('获取历史消息成功');\r\n\t\t\t\t\t\tconsole.log(hasMsg);\r\n\t\t\t\t\t\tif(hasMsg==0) {\r\n\t\t\t\t\t\t\tuni.setStorageSync('hasMsg',0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar msgStatus = uni.getStorageSync('hasMsg');\r\n\t\t\t\t\t\tif(msgStatus==0) {\r\n\t\t\t\t\t\t\tthat.isHistoryLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tvar arr = JSON.stringify(list);\r\n\t\t\t\t\t\t\tvar newArr = JSON.parse(arr);\r\n\t\t\t\t\t\t\tconsole.log(newArr);\r\n\t\t\t\t\t\t\tfor(var i=newArr.length-1;i>=0;i--) {\r\n\t\t\t\t\t\t\t\tif(typeof(newArr[i])!='undefined'&&newArr[i].messageType=='TextMessage') {\r\n\t\t\t\t\t\t\t\t\tif(newArr[i].content.extra.type!='pin'&&newArr[i].content.extra.type!='system') {\r\n\t\t\t\t\t\t\t\t\t\tnewArr[i].content.extra = that.replaceEmoji(newArr[i].content.content);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.msgList.unshift(newArr[i]);\r\n\t\t\t\t\t\t\t\t\tconsole.log('unshift啦');\r\n\t\t\t\t\t\t\t\t}else if(typeof(newArr[i])!='undefined'&&newArr[i].messageType=='ImageMessage') {\r\n\t\t\t\t\t\t\t\t\tthat.msgImgList.unshift(newArr[i].content.imageUri);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(that.msgList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  onError: function(error) {\r\n\t\t\t\t\t    // 请排查：单群聊消息云存储是否开通\r\n\t\t\t\t\t    console.log('获取历史消息失败', error);\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 获取消息中的图片,并处理显示尺寸\r\n\t\t\t\t\t// for(let i=0;i<list.length;i++){\r\n\t\t\t\t\t// \tif(list[i].type=='user'&&list[i].msg.type==\"img\"){\r\n\t\t\t\t\t// \t\tlist[i].msg.content = this.setPicSize(list[i].msg.content);\r\n\t\t\t\t\t// \t\tthis.msgImgList.unshift(list[i].msg.content.url);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tlist[i].msg.id = Math.floor(Math.random()*1000+1);\r\n\t\t\t\t\t// \tthis.msgList.unshift(list[i]);\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//这段代码很重要，不然每次加载历史数据都会跳到顶部\r\n\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\tthat.scrollToView = that.Viewid;\r\n\t\t\t\t\t}\r\n\t\t\t\t},1000)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 加载初始页面消息\r\n\t\t\tgetMsgList(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//处理图片尺寸，如果不处理宽高，新进入页面加载图片时候会闪\r\n\t\t\tsetPicSize(content){\r\n\t\t\t\t// 让图片最长边等于设置的最大长度，短边等比例缩小，图片控件真实改变，区别于aspectFit方式。\r\n\t\t\t\tlet maxW = uni.upx2px(350);//350是定义消息图片最大宽度\r\n\t\t\t\tlet maxH = uni.upx2px(350);//350是定义消息图片最大高度\r\n\t\t\t\tconsole.log(content);\r\n\t\t\t\tif(content.w>maxW||content.h>maxH){\r\n\t\t\t\t\tlet scale = content.w/content.h;\r\n\t\t\t\t\tcontent.w = scale>1?maxW:maxH*scale;\r\n\t\t\t\t\tcontent.h = scale>1?maxW/scale:maxH;\r\n\t\t\t\t}else if(content.w==144&&content.h==144) {\r\n\t\t\t\t\tcontent.w = 25;\r\n\t\t\t\t\tcontent.h = 25;\r\n\t\t\t\t}\r\n\t\t\t\treturn content;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//更多功能(点击+弹出) \r\n\t\t\tshowMore(){\r\n\t\t\t\tthis.isVoice = false;\r\n\t\t\t\tthis.hideEmoji = true;\r\n\t\t\t\tif(this.hideMore){\r\n\t\t\t\t\tthis.hideMore = false;\r\n\t\t\t\t\tthis.openDrawer();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开抽屉\r\n\t\t\topenDrawer(){\r\n\t\t\t\tthis.popupLayerClass = 'showLayer';\r\n\t\t\t},\r\n\t\t\t// 隐藏抽屉\r\n\t\t\thideDrawer(){\r\n\t\t\t\tthis.popupLayerClass = '';\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.hideMore = true;\r\n\t\t\t\t\tthis.hideEmoji = true;\r\n\t\t\t\t},150);\r\n\t\t\t},\r\n\t\t\t// 选择图片发送\r\n\t\t\tchooseImage(){\r\n\t\t\t\tthis.getImage('album');\r\n\t\t\t},\r\n\t\t\t//拍照发送\r\n\t\t\tcamera(){\r\n\t\t\t\tthis.getImage('camera');\r\n\t\t\t},\r\n\t\t\tchangeTime(time) {\r\n\t\t\t  var date = new Date(time);\r\n\t\t\t  var m = date.getMonth() + 1;\r\n\t\t\t  m = m < 10 ? ('0' + m) : m;\r\n\t\t\t  var d = date.getDate();\r\n\t\t\t  d = d < 10 ? ('0' + d) : d;\r\n\t\t\t  var h = date.getHours();\r\n\t\t\t  h = h < 10 ? ('0' + h) : h;\r\n\t\t\t  var minute = date.getMinutes();\r\n\t\t\t  minute = minute < 10 ? ('0' + minute) : minute;\r\n\t\t\t  // return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;//年月日时分秒\r\n\t\t\t  return m + '-' + d + ' ' + h + ':' + minute;\r\n\t\t\t},\r\n\t\t\tfindCon(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar time = e;\r\n\t\t\t\tvar conversationTypes = [ RongIMLib.ConversationType.PRIVATE ];\r\n\t\t\t\tvar count = 150;\r\n\t\t\t\tRongIMLib.RongIMClient.getInstance().getConversationList({\r\n\t\t\t\t  onSuccess: function(list) {\r\n\t\t\t\t    console.log('获取会话列表成功', list);\r\n\t\t\t\t\t//var arr = JSON.stringify(list);\r\n\t\t\t\t\tvar conversation = list;\r\n\t\t\t\t\tconsole.log(conversation);\r\n\t\t\t\t\tfor(var i=0;i<conversation.length;i++) {\r\n\t\t\t\t\t\tconversation[i].sentTime = time;\r\n\t\t\t\t\t\tif(conversation[i].latestMessage.messageType=='ImageMessage') {\r\n\t\t\t\t\t\t\t//conversation[i].latestMessage.content.messageName='图片';\r\n\t\t\t\t\t\t\tconversation[i].latestMessage.content.content = '[图片]';\r\n\t\t\t\t\t\t}else if(conversation[i].latestMessage.messageType=='FileMessage')\r\n\t\t\t\t\t\tconversation[i].latestMessage.content.content = '[语音]'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('updateConver',conversation);\r\n\t\t\t\t\tconsole.log(that.$store.state.conversation);\r\n\t\t\t\t\tuni.setStorageSync('conversation',conversation);\r\n\t\t\t\t\tthat.conversation = that.$store.state.conversation;\r\n\t\t\t\t\tconsole.log(that.conversation);\r\n\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\tconsole.log(conver);\r\n\t\t\t\t\t\tconver[i].latestMessage.content.content = message.content.content;\r\n\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t}\r\n\t\t\t\t  },\r\n\t\t\t\t  onError: function(error) {\r\n\t\t\t\t    console.log('获取会话列表失败', error);\r\n\t\t\t\t  }\r\n\t\t\t\t}, conversationTypes, count);\r\n\t\t\t},\r\n\t\t\t//选照片 or 拍照\r\n\t\t\tgetImage(type){\r\n\t\t\t\tvar getMoreTime = function() {\r\n\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\t\tvar day = date.getDate();\r\n\t\t\t\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t\t\treturn timer;\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.hideDrawer();\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tsourceType:[type],\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tfor(let i=0;i<res.tempFilePaths.length;i++){\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl:'https://zmetalhearty.com/yuanpin/MessageFileUpload',\r\n\t\t\t\t\t\t\t\tfilePath:res.tempFilePaths[i],\r\n\t\t\t\t\t\t\t\tname:'file',\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\tvar imageUri = 'https://zmetalhearty.com'+res.data;  // 上传到服务器的 url. 用来展示高清图片\r\n\t\t\t\t\t\t\t\t\tvar msg = new RongIMLib.ImageMessage({imageUri: imageUri});\r\n\t\t\t\t\t\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\t\t\t\t\t\tRongIMLib.RongIMClient.getInstance().sendMessage(conversationType, that.targetId, msg, {\r\n\t\t\t\t\t\t\t\t\t  onSuccess: function (message) {\r\n\t\t\t\t\t\t\t\t\t    console.log('发送图片消息成功', message);\r\n\t\t\t\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t\t//that.msgList.push(message);\r\n\t\t\t\t\t\t\t\t\t\t//var msgList = that.$store.state.msgList;\r\n\t\t\t\t\t\t\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\t\t\t\t\t\t\tvar haoTime = new Date().getTime();\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(nowStandardTime);\r\n\t\t\t\t\t\t\t\t\t\tif(that.$store.state.msgList.length>1) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar length = that.$store.state.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t\t\tvar betweenTime = haoTime-that.$store.state.msgList[length].sentTime;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(betweenTime);\r\n\t\t\t\t\t\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent:nowStandardTime\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tthat.$store.commit('pushMsg',showTime);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('pushMsg',message);\r\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('pushImg',message.content.imageUri);\r\n\t\t\t\t\t\t\t\t\t\tvar getMsg = true;\r\n\t\t\t\t\t\t\t\t\t\tvar findConver = false;\r\n\t\t\t\t\t\t\t\t\t\tfor(var a=0;a<that.$store.state.conversation.length;a++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(that.$store.state.conversation[a].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfindConver = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(!findConver) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.findCon();\r\n\t\t\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconver[i].latestMessage.content.content = '[图片]';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t\t\t\t  onError: function (errorCode) {\r\n\t\t\t\t\t\t\t\t\t    console.log('发送图片消息失败', errorCode);\r\n\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (data)=> {\r\n\t\t\t\t\t\t\t\t\tconsole.log('失败');\r\n\t\t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 选择表情\r\n\t\t\tchooseEmoji(){\r\n\t\t\t\tthis.hideMore = true;\r\n\t\t\t\tif(this.hideEmoji){\r\n\t\t\t\t\tthis.hideEmoji = false;\r\n\t\t\t\t\tthis.openDrawer();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//添加表情\r\n\t\t\taddEmoji(em){\r\n\t\t\t\tthis.textMsg+=em.alt;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//获取焦点，如果不是选表情ing,则关闭抽屉\r\n\t\t\ttextareaFocus(){\r\n\t\t\t\tif(this.popupLayerClass=='showLayer' && this.hideMore == false){\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetMoreTime(time) {\r\n\t\t\t\tvar date = new Date(time);\r\n\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\tvar day = date.getDate();\r\n\t\t\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t\treturn timer;\r\n\t\t\t},\r\n\t\t\t// getTimeStatus(time) {\r\n\t\t\t// \tvar date = new Date(time);\r\n\t\t\t// \tvar year = date.getFullYear();\r\n\t\t\t// \tvar month = date.getMonth() + 1;\r\n\t\t\t// \tvar day = date.getDate();\r\n\t\t\t// \tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t// \tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t// \tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t// \tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t// \tvar timer = year + month + day + hour + minute ;\r\n\t\t\t// \tvar nowdate = new Date();\r\n\t\t\t// \tvar nowYear = nowdate.getFullYear();\r\n\t\t\t// \tvar nowMonth = nowdate.getMonth() + 1;\r\n\t\t\t// \tvar nowDay = nowdate.getDate();\r\n\t\t\t// \tvar nowHour = nowdate.getHours() < 10 ? \"0\" + nowdate.getHours() : nowdate.getHours();\r\n\t\t\t// \tvar nowMinute = nowdate.getMinutes() < 10 ? \"0\" + nowdate.getMinutes() : nowdate.getMinutes();\r\n\t\t\t// \tnowMonth >= 1 && nowMonth <= 9 ? (nowMonth = \"0\" + nowMonth) : \"\";\r\n\t\t\t// \tnowDay >= 0 && nowDay <= 9 ? (nowDay = \"0\" + nowDay) : \"\";\r\n\t\t\t// \tvar nowTimer = nowYear + nowMonth + nowDay + nowHour + nowMinute ;\r\n\t\t\t// \tvar t1 =timer.split('');\r\n\t\t\t// \tvar t2 = nowTimer.split('');\r\n\t\t\t// \tvar flag = '';\r\n\t\t\t// \tfor(var i=0;i<t1.length;i++) {\r\n\t\t\t// \t\tif(t1[i]!=t2[i]) {\r\n\t\t\t// \t\t\tflag = i;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// \tif(flag!='') {\r\n\t\t\t// \t\tif(flag==3&&flag==4) {\r\n\t\t\t// \t\t\tvar timeStatus = year + '-' + month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t// \t\t\treturn timeStatus;\r\n\t\t\t// \t\t}else if(flag==5&&flag==6&&flag==7&&flag==8) {\r\n\t\t\t// \t\t\tif(t2)\r\n\t\t\t// \t\t\tvar timeStatus = month + '-' + day + ' ' + hour + ':' + minute ; \r\n\t\t\t// \t\t\treturn timeStatus;\r\n\t\t\t// \t\t}else if(flag==9&&flag==10) {\r\n\t\t\t// \t\t\tvar timeStatus = month + '-' + day + ' ' + hour + ':' + minute ; \r\n\t\t\t// \t\t\treturn timeStatus;\r\n\t\t\t// \t\t}else if(flag==5&&flag==6) {\r\n\t\t\t// \t\t\tvar timeStatus = month + '-' + day + ' ' + hour + ':' + minute ; \r\n\t\t\t// \t\t\treturn timeStatus;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t\t\r\n\t\t\t// },\r\n\t\t\t// 发送文字消息\r\n\t\t\tsendText(){\r\n\t\t\t\tvar getMoreTime = function() {\r\n\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\t\tvar day = date.getDate();\r\n\t\t\t\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t\t\treturn timer;\r\n\t\t\t\t};\r\n\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.hideDrawer();\r\n\t\t\t\tif(!that.textMsg){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet contentMsg = this.replaceEmoji(that.textMsg);\r\n\t\t\t\tconsole.log(that.textMsg);\r\n\t\t\t\tvar msg = new RongIMLib.TextMessage({ content: that.textMsg, extra: '附加信息' });\r\n\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\tRongIMLib.RongIMClient.getInstance().sendMessage(conversationType, that.targetId, msg, {\r\n\t\t\t\t  onSuccess: function (message) {\r\n\t\t\t\t    // message 为发送的消息对象并且包含服务器返回的消息唯一 id 和发送消息时间戳\r\n\t\t\t\t    console.log('发送文本消息成功', message);\r\n\t\t\t\t\tmessage.content.extra = that.replaceEmoji(message.content.content);\r\n\t\t\t\t\tconsole.log(message.content.extra);\r\n\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\t\tvar haoTime = new Date().getTime();\r\n\t\t\t\t\tconsole.log(nowStandardTime);\r\n\t\t\t\t\tif(that.$store.state.msgList.length>1) {\r\n\t\t\t\t\t\tvar length = that.$store.state.msgList.length-1;\r\n\t\t\t\t\t\tvar betweenTime = haoTime-that.$store.state.msgList[length].sentTime;\r\n\t\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\t\tcontent:that.getMoreTime(haoTime)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.$store.commit('pushMsg',showTime);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('pushMsg',message);\r\n\t\t\t\t\tthat.textMsg = '';//清空输入框\r\n\t\t\t\t\tvar getMsg = true;\r\n\t\t\t\t\tvar findConver = false;\r\n\t\t\t\t\tfor(var a=0;a<that.$store.state.conversation.length;a++) {\r\n\t\t\t\t\t\tif(that.$store.state.conversation[a].targetId==that.targetId) {\r\n\t\t\t\t\t\t\tfindConver = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!findConver) {\r\n\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\tconsole.log(conver);\r\n\t\t\t\t\t\tconver[i].latestMessage.content.content = message.content.content;\r\n\t\t\t\t\t\tvar nowTime = new Date().getTime();\r\n\t\t\t\t\t\tvar time = that.changeTime(nowTime);\r\n\t\t\t\t\t\tthat.findCon(time);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\t\t\tconver[i].latestMessage.content.content = message.content.content;\r\n\t\t\t\t\t\t\t\tvar nowTime = new Date().getTime();\r\n\t\t\t\t\t\t\t\tvar time = that.changeTime(nowTime);\r\n\t\t\t\t\t\t\t\tconsole.log(time);\r\n\t\t\t\t\t\t\t\tconver[i].sentTime = time;\r\n\t\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\t\tuni.setStorageSync('msgImgList'+that.targetId,that.$store.state.msgImgList);\r\n\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t  },\r\n\t\t\t\t  onError: function (errorCode) {\r\n\t\t\t\t    console.log('发送文本消息失败', errorCode);\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//替换表情符号为图片\r\n\t\t\treplaceEmoji(str){\r\n\t\t\t\tlet replacedStr = str.replace(/\\[([^(\\]|\\[)]*)\\]/g,(item, index)=>{\r\n\t\t\t\t\tconsole.log(\"item: \" + item);\r\n\t\t\t\t\tfor(let i=0;i<this.emojiList.length;i++){\r\n\t\t\t\t\t\tlet row = this.emojiList[i];\r\n\t\t\t\t\t\tfor(let j=0;j<row.length;j++){\r\n\t\t\t\t\t\t\tlet EM = row[j];\r\n\t\t\t\t\t\t\tif(EM.alt==item){\r\n\t\t\t\t\t\t\t\t//在线表情路径，图文混排必须使用网络路径，请上传一份表情到你的服务器后再替换此路径 \r\n\t\t\t\t\t\t\t\t//比如你上传服务器后，你的100.gif路径为https://www.xxx.com/emoji/100.gif 则替换onlinePath填写为https://www.xxx.com/emoji/\r\n\t\t\t\t\t\t\t\tlet onlinePath = 'https://zmetalhearty.com/yuanpin/emoji/'\r\n\t\t\t\t\t\t\t\tlet imgstr = '<img src=\"'+onlinePath+EM.url+'\" width=\"25upx\" height=\"25upx\" style=\"max-width:100%;\">';\r\n\t\t\t\t\t\t\t\treturn imgstr;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn '<div style=\"vertical-align:middle;display: flex;align-items: center;flex-wrap: wrap;white-space: pre-wrap;word-break: break-all;\">'+replacedStr+'</div>';\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 发送消息\r\n\t\t\tsendMsg(content,type){\r\n\t\t\t\t//实际应用中，此处应该提交长连接，模板仅做本地处理。\r\n\t\t\t\tvar nowDate = new Date();\r\n\t\t\t\tif(this.msgList) {\r\n\t\t\t\t\tlet lastid = this.msgList[this.msgList.length-1].msg.id;\r\n\t\t\t\t\tlastid++;\r\n\t\t\t\t}\r\n\t\t\t\tlet msg = {type:'user',msg:{id:lastid,time:nowDate.getHours()+\":\"+nowDate.getMinutes(),type:type,userinfo:{uid:this.myuid,username:this.myNickName,face:this.myAvatarUrl},content:content}}\r\n\t\t\t\t// 发送消息\r\n\t\t\t\tthis.screenMsg(msg);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 添加文字消息到列表\r\n\t\t\taddTextMsg(msg){\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加语音消息到列表\r\n\t\t\taddVoiceMsg(msg){\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加图片消息到列表\r\n\t\t\taddImgMsg(msg){\r\n\t\t\t\tmsg.msg.content = this.setPicSize(msg.msg.content);\r\n\t\t\t\tthis.msgImgList.push(msg.msg.content.url);\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\taddRedEnvelopeMsg(msg){\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加系统文字消息到列表\r\n\t\t\taddSystemTextMsg(msg){\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加系统红包消息到列表\r\n\t\t\taddSystemRedEnvelopeMsg(msg){\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 预览图片\r\n\t\t\tshowPic(msg){\r\n\t\t\t\tconsole.log(msg);\r\n\t\t\t\tconsole.log(this.msgImgList);\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tindicator:\"default\",\r\n\t\t\t\t\tcurrent:msg.imageUri,\r\n\t\t\t\t\turls: this.msgImgList,\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\tconsole.log('预览成功');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 播放语音\r\n\t\t\tplayVoice(msg){\r\n\t\t\t\tthis.playMsgid=msg.messageUId;\r\n\t\t\t\tthis.AUDIO.src = msg.content.fileUrl;\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.AUDIO.play();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 录音开始\r\n\t\t\tvoiceBegin(e){\r\n\t\t\t\tif(e.touches.length>1){\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\t\t\t\tthis.initPoint.Y = e.touches[0].clientY;\r\n\t\t\t\tthis.initPoint.identifier = e.touches[0].identifier;\r\n\t\t\t\tthis.RECORDER.start({format:\"mp3\"});//录音开始,\r\n\t\t\t},\r\n\t\t\t//录音开始UI效果\r\n\t\t\trecordBegin(e){\r\n\t\t\t\tthis.recording = true;\r\n\t\t\t\tthis.voiceTis='松开 结束';\r\n\t\t\t\tthis.recordLength = 0;\r\n\t\t\t\tthis.recordTimer = setInterval(()=>{\r\n\t\t\t\t\tthis.recordLength++;\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\t// 录音被打断\r\n\t\t\tvoiceCancel(){\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tthis.voiceTis='按住 说话';\r\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\tthis.willStop = true;//不发送录音\r\n\t\t\t\tthis.RECORDER.stop();//录音结束\r\n\t\t\t},\r\n\t\t\t// 录音中(判断是否触发上滑取消发送)\r\n\t\t\tvoiceIng(e){\r\n\t\t\t\tif(!this.recording){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet touche = e.touches[0];\r\n\t\t\t\t//上滑一个导航栏的高度触发上滑取消发送\r\n\t\t\t\tif(this.initPoint.Y - touche.clientY>=uni.upx2px(100)){\r\n\t\t\t\t\tthis.willStop = true;\r\n\t\t\t\t\tthis.recordTis = '松开手指 取消发送'\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.willStop = false;\r\n\t\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 结束录音\r\n\t\t\tvoiceEnd(e){\r\n\t\t\t\tif(!this.recording){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tthis.voiceTis='按住 说话';\r\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\tthis.RECORDER.stop();//录音结束\r\n\t\t\t},\r\n\t\t\t//录音结束(回调文件)\r\n\t\t\trecordEnd(e){\r\n\t\t\t\tvar getMoreTime = function() {\r\n\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\tvar month = date.getMonth() + 1;\r\n\t\t\t\t\tvar day = date.getDate();\r\n\t\t\t\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\t\t\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\t\t\t\treturn timer;\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tclearInterval(this.recordTimer);\r\n\t\t\t\tif(!this.willStop){\r\n\t\t\t\t\tconsole.log(\"e: \" + JSON.stringify(e));\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\tlength:0,\r\n\t\t\t\t\t\turl:e.tempFilePath\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet min = parseInt(this.recordLength/60);\r\n\t\t\t\t\tlet sec = this.recordLength%60;\r\n\t\t\t\t\tmin = min<10?'0'+min:min;\r\n\t\t\t\t\tsec = sec<10?'0'+sec:sec;\r\n\t\t\t\t\tvar length = min+':'+sec;\r\n\t\t\t\t\t//this.sendMsg(msg,'voice');\r\n\t\t\t\t\t//this.msgList.push(msg);\r\n\t\t\t\t\tvar dontUpload = false;\r\n\t\t\t\t\tif(min==0&&sec==0){\r\n\t\t\t\t\t\tdontUpload = true;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'说话时间太短！',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!dontUpload) {\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\turl:'https://zmetalhearty.com/yuanpin/MessageFileUpload',\r\n\t\t\t\t\t\t\tfilePath:e.tempFilePath,\r\n\t\t\t\t\t\t\tname:'file',\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t    'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tvar jsonData = res.data;\r\n\t\t\t\t\t\t\t\t//var imageUri = jsonData.data;\r\n\t\t\t\t\t\t\t\tconsole.log(jsonData);\r\n\t\t\t\t\t\t\t\tvar name = length;  // 文件名\r\n\t\t\t\t\t\t\t\t//var size = 1024;  // 文件大小\r\n\t\t\t\t\t\t\t\tvar type = 'mp3';  // 文件类型\r\n\t\t\t\t\t\t\t\tvar fileUrl = 'https://zmetalhearty.com'+res.data;  // 文件地址\r\n\t\t\t\t\t\t\t\tvar msg = new RongIMLib.FileMessage({\r\n\t\t\t\t\t\t\t\t  name: name,\r\n\t\t\t\t\t\t\t\t  //size: size,\r\n\t\t\t\t\t\t\t\t  type: type,\r\n\t\t\t\t\t\t\t\t  fileUrl: fileUrl\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvar conversationType = RongIMLib.ConversationType.PRIVATE;\r\n\t\t\t\t\t\t\t\tRongIMLib.RongIMClient.getInstance().sendMessage(conversationType, that.targetId, msg, {\r\n\t\t\t\t\t\t\t\t  onSuccess: function (message) {\r\n\t\t\t\t\t\t\t\t    console.log('发送文件消息成功', message);\r\n\t\t\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t//that.msgList.push(message);\r\n\t\t\t\t\t\t\t\t\t//var msgList = that.$store.state.msgList;\r\n\t\t\t\t\t\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\t\t\t\t\t\tvar haoTime = new Date().getTime();\r\n\t\t\t\t\t\t\t\t\tif(that.$store.state.msgList.length>1) {\r\n\t\t\t\t\t\t\t\t\t\tvar length = that.$store.state.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t\tvar betweenTime = haoTime-that.$store.state.msgList[length].sentTime;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconsole.log(betweenTime);\r\n\t\t\t\t\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent:nowStandardTime\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit('pushMsg',showTime);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.$store.commit('pushMsg',message);\r\n\t\t\t\t\t\t\t\t\tvar getMsg = true;\r\n\t\t\t\t\t\t\t\t\tvar findConver = false;\r\n\t\t\t\t\t\t\t\t\tfor(var a=0;a<that.$store.state.conversation.length;a++) {\r\n\t\t\t\t\t\t\t\t\t\tif(that.$store.state.conversation[a].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\t\t\tfindConver = true;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(!findConver) {\r\n\t\t\t\t\t\t\t\t\t\tthat.findCon();\r\n\t\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(that.$store.state.conversation[i].targetId==that.targetId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\t\t\t\t\t\t\tconver[i].latestMessage.content.content = '[语音]';\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('msgList'+that.targetId,that.$store.state.msgList);\r\n\t\t\t\t\t\t\t\t\t\tvar length = that.msgList.length-1;\r\n\t\t\t\t\t\t\t\t\t\tif(length>7) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.scrollToView = that.msgList[length].messageUId;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t\t\t  onError: function (errorCode) {\r\n\t\t\t\t\t\t\t\t    console.log('发送图片消息失败', errorCode);\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (data)=> {\r\n\t\t\t\t\t\t\t\tconsole.log('失败');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('取消发送录音');\r\n\t\t\t\t}\r\n\t\t\t\tthis.willStop = false;\r\n\t\t\t},\r\n\t\t\t// 切换语音/文字输入\r\n\t\t\tswitchVoice(){\r\n\t\t\t\tthis.hideDrawer();\r\n\t\t\t\tthis.isVoice = this.isVoice?false:true;\r\n\t\t\t},\r\n\t\t\tdiscard(){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import \"@/static/HM-chat/css/style.scss\";\r\n\t.viewBox {\r\n\t\twidth: 500upx;\r\n\t\theight: auto;\r\n\t\tpadding: 30upx 20upx 0upx 20upx;\r\n\t\tborder-radius: 30upx;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 20upx 20upx 30upx rgba(0, 0, 0, 0.1);\r\n\t\tmargin: 30upx auto;\r\n\t\topacity: 1;\r\n\t\tanimation: fade .5s;\r\n\t}\r\n\t@keyframes fade{\r\n\t\tfrom{\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\tto{\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\t.view-title {\r\n\t\twidth: 100%;\r\n\t\theight: 50upx;\r\n\t\tline-height: 50upx;\r\n\t\tfont-size: 30upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.title-text {\r\n\t\twidth: 270upx;\r\n\t\theight: 100%;\r\n\t\tcolor: #555;\r\n\t\tfont-size: 36upx;\r\n\t\tline-height: 50upx;\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.title-time {\r\n\t\twidth: 230upx;\r\n\t\theight: 100%;\r\n\t\tcolor: #bdbdbd;\r\n\t\tfont-size: 24upx;\r\n\t\tline-height: 50upx;\r\n\t\tpadding-left: 20upx;\r\n\t}\r\n\t.view-content {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 72upx;\r\n\t\tmargin: 6upx 6upx 14upx 6upx;\r\n\t\tline-height: 36upx;\r\n\t\tletter-spacing: 2upx;\r\n\t\tfont-size: 26upx;\r\n\t\toverflow: hidden;\r\n\t\tword-break: break-all;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp:2;\r\n\t\ttext-overflow:ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\tcolor: #777;\r\n\t}\r\n\t.view-img {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 120upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10upx;\r\n\t}\r\n\t.location {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 72upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t}\r\n\t.location1 {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 72upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\t.view-location {\r\n\t\tmax-width: 300upx;\r\n\t\tmax-height: 72upx;\r\n\t\tmargin: 6upx 0upx;\r\n\t\tpadding: 4upx 22upx 4upx 10upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 8upx;\r\n\t\tbackground-color: #f3f3f3;\r\n\t\tline-height: 30upx;\r\n\t}\r\n\t.view-location1 {\r\n\t\tmax-width: 640upx;\r\n\t\tmax-height: 72upx;\r\n\t\tmargin: 6upx 0upx;\r\n\t\tpadding: 4upx 22upx 4upx 10upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 8upx;\r\n\t\tbackground-color: #f3f3f3;\r\n\t\tline-height: 30upx;\r\n\t}\r\n\t.location-left {\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t}\r\n\t.location-left image {\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t}\r\n\t.location-right {\r\n\t\tmax-width: 590upx;\r\n\t\tmax-height: 72upx;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.location-right,.location-right1 text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-left: 10upx;\r\n\t}\r\n\t.view-img image {\r\n\t\theight: 110upx;\r\n\t\twidth: 220upx;\r\n\t\tborder-radius: 10upx;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.view-user {\r\n\t\theight: 70upx;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t.user-left {\r\n\t\theight: 70upx;\r\n\t\twidth: 340upx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\t.user-left image {\r\n\t\theight: 50upx;\r\n\t\twidth: 50upx;\r\n\t\tborder-radius: 14upx;\r\n\t}\r\n\t.name-type {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tmargin-left: 16upx;\r\n\t}\r\n\t.name {\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #555;\r\n\t}\r\n\t.food , .travel, .study, .game{\r\n\t\twidth: 78upx;\r\n\t\theight: 34upx;\r\n\t\tborder-radius: 8upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 32upx;\r\n\t}\r\n\t.food {\r\n\t\tborder: 2upx solid #e5af5b;\r\n\t}\r\n\t.travel {\r\n\t\tborder: 2upx solid #76d672;\r\n\t}\r\n\t.study {\r\n\t\tborder: 2upx solid #ca5b53;\r\n\t}\r\n\t.game {\r\n\t\tborder: 2upx solid #3478f5;\r\n\t}\r\n\t.food-text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #e5af5b;\r\n\t}\r\n\t.travel-text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #76d672;\r\n\t}\r\n\t.study-text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #ca5b53;\r\n\t}\r\n\t.game-text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #3478f5;\r\n\t}\r\n\t.user-right {\r\n\t\twidth: 200upx;\r\n\t\theight: 70upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-evenly;\r\n\t\talign-items: center;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.user-right #like {\r\n\t\twidth: 30upx;\r\n\t\theight: 30upx;\r\n\t}\r\n\t.user-right #comment {\r\n\t\twidth: 26upx;\r\n\t\theight: 26upx;\r\n\t}\r\n\t.user-right text {\r\n\t\tfont-size: 22upx;\r\n\t\tcolor: #bdbdbd;\r\n\t}\r\n\t.empty {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tline-height: 75vh;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 28upx;\r\n\t}\r\n\t.pop-title {\r\n\t\twidth: 500upx;\r\n\t\theight: 100upx;\r\n\t\tline-height: 100upx;\r\n\t\tfont-size: 50upx;\r\n\t\tcolor: #30C6B0;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.pop {\r\n\t\twidth: 550upx;\r\n\t\theight: 800upx;\r\n\t\tborder-radius: 30upx;\r\n\t\tbackground-color: #EFEEEE;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.pop-bottom {\r\n\t\twidth: 550upx;\r\n\t\theight: 100upx;\r\n\t\tborder-radius: 30upx;\r\n\t\tbackground-color: #EFEEEE;\r\n\t\ttext-align: center;\r\n\t\tmargin: 30upx;\r\n\t\tcolor: #30C6B0;\r\n\t\tfont-size: 34upx;\r\n\t\tfont-weight: bold;\r\n\t\ttransition: all .5s;\r\n\t\tline-height: 100upx;\r\n\t}\r\n\t.pop-bottom-hover {\r\n\t\tbackground-color: #EEEEEE;\r\n\t\ttransition: all .5s;\r\n\t}\r\n\t.pinByMe {\r\n\t\tmax-width: 500upx;\r\n\t\tpadding: 10upx 20upx;\r\n\t\tmax-height: 160upx;\r\n\t\tborder-radius: 20upx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tline-height: 80upx;\r\n\t\tfont-size: 32upx;\r\n\t\tcolor: #888;\r\n\t}\r\n\t.pinByYou {\r\n\t\twidth: 500upx;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 20upx;\r\n\t\tpadding: 20upx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\t.pin-title {\r\n\t\t\twidth: 100%;\r\n\t\t\tmax-height: 200upx;\r\n\t\t\tline-height: 100upx;\r\n\t\t\tfont-size: 32upx;\r\n\t\t\tcolor: #888;\r\n\t\t}\r\n\t\t.yesOrNo {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 150upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\talign-items: center;\r\n\t\t\t.no {\r\n\t\t\t\twidth: 200upx;\r\n\t\t\t\theight: 100upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 100upx;\r\n\t\t\t\tborder-radius: 20upx;\r\n\t\t\t\tcolor: #888;\r\n\t\t\t\tbackground-color: #EFEEEE;\r\n\t\t\t\tbox-shadow: 20upx 20upx 30upx rgba( 0, 0, 0, 0.1),\r\n\t\t\t\t-20upx -20upx 30upx rgba(255,255,255,1);\r\n\t\t\t}\r\n\t\t\t.yes {\r\n\t\t\t\twidth: 200upx;\r\n\t\t\t\theight: 100upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 100upx;\r\n\t\t\t\tborder-radius: 20upx;\r\n\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\tbackground-color: #30c6b0;\r\n\t\t\t\tbox-shadow: 20upx 20upx 30upx rgba( 0, 0, 0, 0.1),\r\n\t\t\t\t-20upx -20upx 30upx rgba(255,255,255,1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.empty {\r\n\t\twidth: 100%;\r\n\t\theight: 600upx;\r\n\t\tline-height: 600upx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999999;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 30upx;\r\n\t\tfont-size: 28upx;\r\n\t}\r\n</style>","import mod from \"-!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./HM-chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./HM-chat.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592111496080\n      var cssReload = require(\"E:/编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}