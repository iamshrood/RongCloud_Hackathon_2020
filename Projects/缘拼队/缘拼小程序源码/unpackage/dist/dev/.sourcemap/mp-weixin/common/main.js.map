{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/web前端练习/vue练习/缘拼/App.vue?4b97","uni-app:///App.vue","webpack:///E:/web前端练习/vue练习/缘拼/App.vue?f4d6","webpack:///E:/web前端练习/vue练习/缘拼/App.vue?f0c7"],"names":["RongIMLib","require","Vue","config","productionTip","App","mpType","prototype","$store","store","$rongyun","that","appkey","RongIMClient","init","setConnectionStatusListener","onChanged","status","ConnectionStatus","CONNECTED","console","log","CONNECTING","DISCONNECTED","KICKED_OFFLINE_BY_OTHER_CLIENT","uni","clearStorageSync","navigateTo","url","DOMAIN_INCORRECT","NETWORK_UNAVAILABLE","getMoreTime","date","Date","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","timer","getStandardTime","emojiList","alt","replaceEmoji","str","replacedStr","replace","item","index","i","length","row","j","EM","onlinePath","imgstr","setOnReceiveMessageListener","onReceived","message","id","getStorageSync","msg","JSON","stringify","newMsg","parse","haoTime","getTime","senderUserId","nowStandardTime","state","msgList","betweenTime","sentTime","showTime","messageType","type","content","commit","extra","imageUri","setStorageSync","myid","targetId","msgTarget1","push","conversation","conver","count","latestMessage","unreadMessageCount","u","toString","showTabBarRedDot","hideTabBarRedDot","pushArr","splice","unshift","messageContent","MessageType","TextMessage","ImageMessage","HQVoiceMessage","remoteUrl","duration","RichContentMessage","UnknownMessage","app","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\r\nimport App from './App'\r\n\r\nvar RongIMLib = require('pages/RongIMLib.miniprogram-1.1.3.js');\r\nVue.config.productionTip = false\r\nimport store from './store'\r\n\r\nApp.mpType = 'app'\r\n\r\nVue.prototype.$store = store\r\n\r\n//融云\r\nVue.prototype.$rongyun = function() {\r\n\tvar that = this;\r\n\tvar appkey = 'p5tvi9dspqrx4';//x18ywvqfx5bpc\r\n\tRongIMLib.RongIMClient.init(appkey);\r\n\tRongIMLib.RongIMClient.setConnectionStatusListener({\r\n\t  onChanged: function (status) {\r\n\t    // status 标识当前连接状态\r\n\t    switch (status) {\r\n\t      case RongIMLib.ConnectionStatus.CONNECTED:\r\n\t        console.log('链接成功');\r\n\t        break;\r\n\t      case RongIMLib.ConnectionStatus.CONNECTING:\r\n\t        console.log('正在链接');\r\n\t        break;\r\n\t      case RongIMLib.ConnectionStatus.DISCONNECTED:\r\n\t        console.log('断开连接');\r\n\t        break;\r\n\t      case RongIMLib.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:\r\n\t        console.log('其他设备登录, 本端被踢');\r\n\t\t\tuni.clearStorageSync();\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:'../login/login'\r\n\t\t\t})\r\n\t        break;\r\n\t      case RongIMLib.ConnectionStatus.DOMAIN_INCORRECT:\r\n\t        console.log('域名不正确, 请至开发者后台查看安全域名配置');\r\n\t        break;\r\n\t      case RongIMLib.ConnectionStatus.NETWORK_UNAVAILABLE:\r\n\t        console.log('网络不可用, 此时可调用 reconnect 进行重连');\r\n\t        break;\r\n\t      default:\r\n\t        console.log('链接状态为', status);\r\n\t        break;\r\n\t    }\r\n\t  }\r\n\t});\r\n\tvar getMoreTime = function() {\r\n\t\tvar date = new Date();\r\n\t\tvar month = date.getMonth() + 1;\r\n\t\tvar day = date.getDate();\r\n\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\tvar timer = month + '-' + day + ' ' + hour + ':' + minute ;\r\n\t\treturn timer;\r\n\t};\r\n\tvar getStandardTime = function(){\r\n\t\tvar date = new Date();\r\n\t\tvar hour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours();\r\n\t\tvar minute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes();\r\n\t\tvar timer = hour + ':' + minute ;\r\n\t\treturn timer;\r\n\t};\r\n\tvar emojiList = [\r\n\t\t\t\t\t\t[{\"url\":\"0.png\",alt:\"[微笑]\"},{\"url\":\"1.png\",alt:\"[伤心]\"},{\"url\":\"2.png\",alt:\"[高兴]\"},{\"url\":\"3.png\",alt:\"[有些不爽]\"},{\"url\":\"4.png\",alt:\"[不舒服]\"},{\"url\":\"5.png\",alt:\"[亲亲]\"},{\"url\":\"6.png\",alt:\"[生气]\"},{\"url\":\"7.png\",alt:\"[流泪]\"},{\"url\":\"8.png\",alt:\"[无语]\"},{\"url\":\"9.png\",alt:\"[吐舌笑]\"},{\"url\":\"10.png\",alt:\"[惊吓]\"},{\"url\":\"11.png\",alt:\"[流汗]\"},{\"url\":\"12.png\",alt:\"[小声]\"},{\"url\":\"13.png\",alt:\"[气的冒烟]\"},{\"url\":\"14.png\",alt:\"[戴口罩]\"},{\"url\":\"15.png\",alt:\"[疑问]\"},{\"url\":\"16.png\",alt:\"[紧张]\"},{\"url\":\"17.png\",alt:\"[呕吐]\"},{\"url\":\"18.png\",alt:\"[面无表情]\"},{\"url\":\"19.png\",alt:\"[祝贺]\"},{\"url\":\"20.png\",alt:\"[泪眼]\"},{\"url\":\"21.png\",alt:\"[白眼]\"},{\"url\":\"22.png\",alt:\"[鬼脸]\"},{\"url\":\"23.png\",alt:\"[哭笑不得]\"}],\r\n\t\t\t\t\t\t[{\"url\":\"24.png\",alt:\"[发烧]\"},{\"url\":\"25.png\",alt:\"[惊讶]\"},{\"url\":\"26.png\",alt:\"[冻僵]\"},{\"url\":\"27.png\",alt:\"[汗]\"},{\"url\":\"28.png\",alt:\"[高兴]\"},{\"url\":\"29.png\",alt:\"[眼冒金星]\"},{\"url\":\"30.png\",alt:\"[嘟嘴]\"},{\"url\":\"31.png\",alt:\"[大哭]\"},{\"url\":\"32.png\",alt:\"[说谎]\"},{\"url\":\"33.png\",alt:\"[想吐]\"},{\"url\":\"34.png\",alt:\"[难过]\"},{\"url\":\"35.png\",alt:\"[臭臭]\"},{\"url\":\"36.png\",alt:\"[笑的流泪]\"},{\"url\":\"37.png\",alt:\"[怒骂]\"},{\"url\":\"38.png\",alt:\"[睡觉]\"},{\"url\":\"39.png\",alt:\"[天使]\"},{\"url\":\"40.png\",alt:\"[心动]\"},{\"url\":\"41.png\",alt:\"[恶魔]\"},{\"url\":\"42.png\",alt:\"[尴尬]\"},{\"url\":\"43.png\",alt:\"[挤眼笑]\"},{\"url\":\"44.png\",alt:\"[温馨]\"},{\"url\":\"45.png\",alt:\"[说漏嘴]\"},{\"url\":\"46.png\",alt:\"[酷]\"},{\"url\":\"47.png\",alt:\"[拽]\"}],\r\n\t\t\t\t\t\t[{\"url\":\"48.png\",alt:\"[思考]\"},{\"url\":\"49.png\",alt:\"[不爽]\"},{\"url\":\"50.png\",alt:\"[气的颠倒]\"},{\"url\":\"51.png\",alt:\"[丧气]\"},{\"url\":\"52.png\",alt:\"[wink]\"},{\"url\":\"53.png\",alt:\"[哈欠]\"},{\"url\":\"54.png\",alt:\"[噤声]\"}]\t\t\r\n\t];\r\n\t var replaceEmoji = function(str) {\r\n\t\t\t\t  var replacedStr = str.replace(/\\[([^(\\]|\\[)]*)\\]/g,(item, index)=>{\r\n\t\t\t\t  \tconsole.log(\"item: \" + item);\r\n\t\t\t\t  \tfor(var i=0;i<emojiList.length;i++){\r\n\t\t\t\t  \t\tvar row = emojiList[i];\r\n\t\t\t\t  \t\tfor(var j=0;j<row.length;j++){\r\n\t\t\t\t  \t\t\tvar EM = row[j];\r\n\t\t\t\t  \t\t\tif(EM.alt==item){\r\n\t\t\t\t  \t\t\t\t//在线表情路径，图文混排必须使用网络路径，请上传一份表情到你的服务器后再替换此路径 \r\n\t\t\t\t  \t\t\t\t//比如你上传服务器后，你的100.gif路径为https://www.xxx.com/emoji/100.gif 则替换onlinePath填写为https://www.xxx.com/emoji/\r\n\t\t\t\t  \t\t\t\tlet onlinePath = 'https://www.liebe.pub/static/emoji/'\r\n\t\t\t\t  \t\t\t\tlet imgstr = '<img src=\"'+onlinePath+EM.url+'\" width=\"25upx\" height=\"25upx\" style=\"max-width:100%;\">';\r\n\t\t\t\t  \t\t\t\tconsole.log(\"imgstr: \" + imgstr);\r\n\t\t\t\t  \t\t\t\treturn imgstr;\r\n\t\t\t\t  \t\t\t}\r\n\t\t\t\t  \t\t}\r\n\t\t\t\t  \t}\r\n\t\t\t\t  });\r\n\t\t\t\t  return '<div style=\"vertical-align:middle;display: flex;align-items: center;flex-wrap: wrap;white-space: pre-wrap;word-break: break-all;\">'+replacedStr+'</div>';\r\n\t };\r\n\tRongIMLib.RongIMClient.setOnReceiveMessageListener({\r\n\t    // 接收到的消息\r\n\t\t\r\n\t  onReceived: function (message) {\r\n\t\t  var id = uni.getStorageSync('msgTargetId');\r\n\t\t  console.log(id);\r\n\t\t  console.log(message);\r\n\t\t  var msg = JSON.stringify(message);\r\n\t\t  var newMsg = JSON.parse(msg);\r\n\t\t  var haoTime = new Date().getTime();\r\n\t\t  console.log(haoTime);\r\n\t\t  if(id!=0) {\r\n\t\t\t if(newMsg.senderUserId==id) {\r\n\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\tconsole.log(nowStandardTime);\r\n\t\t\t\tvar length = that.$store.state.msgList.length-1;\r\n\t\t\t\tif(length>0) {\r\n\t\t\t\t\tvar betweenTime = haoTime-that.$store.state.msgList[length].sentTime;\r\n\t\t\t\t\tconsole.log(betweenTime);\r\n\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\tcontent:nowStandardTime\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.$store.commit('pushMsg',showTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(newMsg.messageType=='TextMessage') {\r\n\t\t\t\t\tif(newMsg.content.extra.type!='pin'&&newMsg.content.extra.type!='system') {\r\n\t\t\t\t\t\tnewMsg.content.extra = replaceEmoji(newMsg.content.content);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tthat.$store.commit('pushMsg',newMsg);\r\n\t\t\t\tif(newMsg.messageType=='ImageMessage') {\r\n\t\t\t\t\tthat.$store.commit('pushImg',newMsg.content.imageUri);\r\n\t\t\t\t}\t\r\n\t\t\t\tuni.setStorageSync('msgList'+id,that.$store.state.msgList);\r\n\t\t\t\tthat.$store.commit('changePush',true);\r\n\t\t\t\tconsole.log('push成功');\r\n\t\t\t} \r\n\t\t  }else {\r\n\t\t\t  var myid = uni.getStorageSync('ID');\r\n\t\t\t  if(newMsg.senderUserId==newMsg.targetId) {\r\n\t\t\t\tvar msgTarget1 = uni.getStorageSync('msgList'+newMsg.targetId);\r\n\t\t\t\tif(msgTarget1) {\r\n\t\t\t\t\tvar nowStandardTime = getMoreTime();\r\n\t\t\t\t\tconsole.log(nowStandardTime);\r\n\t\t\t\t\tvar length = msgTarget1.length-1;\r\n\t\t\t\t\tif(length!=0) {\r\n\t\t\t\t\t\tvar betweenTime = haoTime-msgTarget1[length].sentTime;\r\n\t\t\t\t\t\tconsole.log(betweenTime);\r\n\t\t\t\t\t\tif(betweenTime>=60000) {\r\n\t\t\t\t\t\t\tvar showTime = {\r\n\t\t\t\t\t\t\t\tmessageType:'system',\r\n\t\t\t\t\t\t\t\ttype:'time',\r\n\t\t\t\t\t\t\t\tcontent:nowStandardTime\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmsgTarget1.push(showTime);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(newMsg.messageType=='TextMessage') {\r\n\t\t\t\t\t\tif(newMsg.content.extra.type!='pin'&&newMsg.content.extra.type!='system') {\r\n\t\t\t\t\t\t\tnewMsg.content.extra = replaceEmoji(newMsg.content.content);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmsgTarget1.push(newMsg);\r\n\t\t\t\t\tuni.setStorageSync('msgList'+newMsg.senderUserId,msgTarget1);\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(newMsg.messageType=='FileMessage') {\r\n\t\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\t\tif(that.$store.state.conversation[i].targetId==newMsg.senderUserId) {\r\n\t\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\t\tconver[i].latestMessage.content.content = '[语音]';     //会话列表最近消息显示\r\n\t\t\t\t\t\tconver[i].unreadMessageCount++;\t\t//未读消息+1\r\n\t\t\t\t\t\tfor(var u=0;u<conver.length;u++) {\r\n\t\t\t\t\t\t\tcount = count+conver[u].unreadMessageCount;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcount = count.toString();\r\n\t\t\t\t\t\tconsole.log(count);\r\n\t\t\t\t\t\tif(count>0) {\r\n\t\t\t\t\t\t\tuni.showTabBarRedDot({\r\n\t\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else if(count==0) {\r\n\t\t\t\t\t\t\tuni.hideTabBarRedDot({\r\n\t\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t//getApp().globalData.conversation = spliceArr;\r\n\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\tif(that.$store.state.conversation.length>1&&i>0) {\r\n\t\t\t\t\t\t\tvar pushArr = conver[i];\r\n\t\t\t\t\t\t\tconver.splice(i,1);\r\n\t\t\t\t\t\t\tconver.unshift(pushArr);   //有新消息的会话置顶\r\n\t\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('会话更新成功');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t  }  \r\n\t    var messageContent = message.content;\r\n\t    // 判断消息类型\r\n\t    switch(message.messageType) {\r\n\t      case RongIMLib.RongIMClient.MessageType.TextMessage: // 文字消息\r\n\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\tif(that.$store.state.conversation[i].targetId==message.senderUserId) {\r\n\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tconver[i].latestMessage.content.content = messageContent.content;     //会话列表最近消息显示\r\n\t\t\t\t\tconver[i].unreadMessageCount++;\t\t//未读消息+1\r\n\t\t\t\t\tfor(var u=0;u<conver.length;u++) {\r\n\t\t\t\t\t\tcount = count+conver[u].unreadMessageCount;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcount = count.toString();\r\n\t\t\t\t\tif(count>0) {\r\n\t\t\t\t\t\tuni.showTabBarRedDot({\r\n\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else if(count==0) {\r\n\t\t\t\t\t\tuni.hideTabBarRedDot({\r\n\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\tif(that.$store.state.conversation.length>1&&i>0) {\r\n\t\t\t\t\t\tvar pushArr = conver[i];\r\n\t\t\t\t\t\tconver.splice(i,1);\r\n\t\t\t\t\t\tconver.unshift(pushArr);   //有新消息的会话置顶\r\n\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('会话更新成功');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t        break;\r\n\t      case RongIMLib.RongIMClient.MessageType.ImageMessage: // 图片消息\r\n\t        console.log('图片缩略图 base64', messageContent.content); \r\n\t        console.log('原图 url', messageContent.imageUri);\r\n\t\t\tfor(var i=0;i<that.$store.state.conversation.length;i++) {\r\n\t\t\t\tif(that.$store.state.conversation[i].targetId==message.senderUserId) {\r\n\t\t\t\t\tvar conver = that.$store.state.conversation;\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tconver[i].latestMessage.content.content = '[图片]';     //会话列表最近消息显示\r\n\t\t\t\t\tconver[i].unreadMessageCount++;\t\t//未读消息+1\r\n\t\t\t\t\tfor(var u=0;u<conver.length;u++) {\r\n\t\t\t\t\t\tcount = count+conver[u].unreadMessageCount;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcount = count.toString();\r\n\t\t\t\t\tif(count>0) {\r\n\t\t\t\t\t\tuni.showTabBarRedDot({\r\n\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else if(count==0) {\r\n\t\t\t\t\t\tuni.hideTabBarRedDot({\r\n\t\t\t\t\t\t\tindex:2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t//getApp().globalData.conversation = spliceArr;\r\n\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\tif(that.$store.state.conversation.length>1&&i>0) {\r\n\t\t\t\t\t\tvar pushArr = conver[i];\r\n\t\t\t\t\t\tconver.splice(i,1);\r\n\t\t\t\t\t\tconver.unshift(pushArr);   //有新消息的会话置顶\r\n\t\t\t\t\t\tthat.$store.commit('updateConver',conver);\r\n\t\t\t\t\t\t//getApp().globalData.conversation = spliceArr;\r\n\t\t\t\t\t\tuni.setStorageSync('conversation',conver);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('会话更新成功');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t        break;\r\n\t      case RongIMLib.RongIMClient.MessageType.HQVoiceMessage: // 音频消息\r\n\t        console.log('音频 type ', messageContent.type); // 编解码类型，默认为 aac 音频\r\n\t        console.log('音频 url', messageContent.remoteUrl); // 播放：<audio src={remoteUrl} />\r\n\t        console.log('音频 时长', messageContent.duration);\r\n\t        break;\r\n\t      case RongIMLib.RongIMClient.MessageType.RichContentMessage: // 富文本(图文)消息\r\n\t        console.log('文本内容', messageContent.content);\r\n\t        console.log('图片 base64', messageContent.imageUri);\r\n\t        console.log('原图 url', messageContent.url);\r\n\t        break;\r\n\t      case RongIMLib.RongIMClient.MessageType.UnknownMessage: // 未知消息\r\n\t        console.log('未知消息, 请检查消息自定义格式是否正确', message);\r\n\t        break;\r\n\t      default:\r\n\t        console.log('收到消息', message);\r\n\t        break;\r\n\t    }\r\n\t  }\r\n\t});\r\n}\r\n\r\nconst app = new Vue({\r\n    ...App,\r\n\tstore\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"web前端练习/vue练习/缘拼/App.vue\"\nexport default component.exports","import mod from \"-!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tconsole.log('App Launch')\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log('App Show')\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log('App Hide')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import \"colorui/main.css\";\r\n\t@import \"colorui/icon.css\";\r\n\t/*每个页面公共css */\r\n</style>\n","import mod from \"-!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../编程软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592111496363\n      var cssReload = require(\"E:/编程软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}